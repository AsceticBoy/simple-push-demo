!function e(n,r,t){function o(c,a){if(!r[c]){if(!n[c]){var u="function"==typeof require&&require;if(!a&&u)return u(c,!0);if(i)return i(c,!0);var s=new Error("Cannot find module '"+c+"'");throw s.code="MODULE_NOT_FOUND",s}var l=r[c]={exports:{}};n[c][0].call(l.exports,function(e){var r=n[c][1][e];return o(r?r:e)},l,l.exports,e,n,r,t)}return r[c].exports}for(var i="function"==typeof require&&require,c=0;c<t.length;c++)o(t[c]);return o}({1:[function(e,n,r){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,r,t){return r&&e(n.prototype,r),t&&e(n,t),n}}(),i=function(){function e(){t(this,e)}return o(e,[{key:"trackEvent",value:function(e,n){var r=this;return this.trackingId?e||n?self.registration.pushManager.getSubscription().then(function(t){if(null===t)throw new Error("No subscription currently available.");var o={v:1,cid:t.endpoint,tid:r.trackingId,t:"event",ds:"serviceworker",ec:"serviceworker",ea:e,ev:n},i=Object.keys(o).filter(function(e){return o[e]}).map(function(e){return e+"="+encodeURIComponent(o[e])}).join("&");return fetch("https://www.google-analytics.com/collect",{method:"post",body:i})}).then(function(e){return e.ok?void 0:e.text().then(function(n){throw new Error("Bad response from Google Analytics "+("["+e.status+"] "+n))})})["catch"](function(e){console.warn("Unable to send the analytics event",e)}):(console.warn("sendAnalyticsEvent() called with no eventAction or eventValue."),Promise.resolve()):(console.error("You need to set a trackingId, for example:"),console.error("self.analytics.trackingId = 'UA-XXXXXXXX-X';"),Promise.resolve())}}]),e}();"undefined"!=typeof self&&(self.analytics=new i)},{}]},{},[1]);
//# sourceMappingURL=analytics.js.map
